[package]
name = "burn-mamba"
version = "0.7.0"
edition = "2024"

[features]
default = ["mamba1", "mamba2"]
mamba1 = []
mamba2 = []
# backend selection for tests or examples
dev-ndarray = ["burn/ndarray", "_dev-has-backend"]
dev-ndarray-simd = ["dev-ndarray", "burn/simd", "burn/std",]
dev-ndarray-blas-accelerate = ["dev-ndarray", "burn/std", "burn/accelerate"]
dev-ndarray-blas-netlib = ["dev-ndarray", "burn/std", "burn/blas-netlib"]
dev-ndarray-blas-openblas = ["dev-ndarray", "burn/std", "burn/openblas"]
dev-cpu = ["burn/cpu", "burn/std", "_dev-has-backend"]
dev-tch-cpu = ["burn/tch", "burn/std", "_dev-has-backend"]
dev-tch-gpu = ["burn/tch", "burn/std", "_dev-has-backend"]
dev-wgpu = ["burn/wgpu", "burn/std", "_dev-has-backend"]
dev-metal = ["burn/metal", "burn/std", "_dev-has-backend"]
dev-vulkan = ["burn/vulkan", "burn/std", "_dev-has-backend"]
dev-cuda = ["burn/cuda", "burn/std", "_dev-has-backend"]
dev-rocm = ["burn/rocm", "burn/std", "_dev-has-backend"]
dev-remote = ["burn/remote", "burn/std", "_dev-has-backend"]
# misc features for tests or examples
dev-f16 = []
dev-autotune = ["burn/autotune"]
dev-fusion = ["burn/fusion"]
_dev-has-backend = [] # signal if any backend was selected

[dependencies]
serde = { version = "1.0.0", features = ["derive"] }

### For the main branch. ###
burn = { version = "0.20.0", default-features = false }
### For local development. ###
# burn = { path = "../burn/crates/burn", default-features = false } # local burn with ndarray-f16 + graph-sweep
# [patch.crates-io]
# ndarray = { path = "../ndarray" } # local ndarray with f16 support

[dev-dependencies]
num-traits = "0.2.19"
rand = "0.9.2"
rand_distr = "0.5.1"
flate2 = "1.1.4"
dirs = "6.0.0"
pico-args = { version = "0.5.0", features = ["eq-separator", "combined-flags"] }
temp-dir = "0.1.16"

### For the main branch. ###
burn = { version = "0.20.0", default-features = false, features = ["autodiff", "train", "dataset", "std"] }
burn-dataset = { version = "0.20.0", default-features = false, features = ["network"] }
### For local development. ###
# burn = { path = "../burn/crates/burn", default-features = false, features = ["autodiff", "train", "dataset", "std"] }
# burn-dataset = { path = "../burn/crates/burn-dataset", default-features = false, features = ["network"] }
